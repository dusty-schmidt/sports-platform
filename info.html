<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sports Data Platform Architecture | Infographic</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Roboto', sans-serif; background-color: #f0f2f5; }
        .chart-container { 
            position: relative; 
            width: 100%; 
            max-width: 600px; 
            margin-left: auto; 
            margin-right: auto; 
            height: 350px; 
            max-height: 400px; 
        }
        @media (min-width: 768px) { .chart-container { height: 400px; } }
        
        /* Custom Flow Diagram Styling (No SVG/Mermaid) */
        .flow-step {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .flow-step:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .arrow-down {
            font-size: 2rem;
            color: #cbd5e1;
            text-align: center;
            margin: 0.5rem 0;
        }
        @media (min-width: 768px) {
            .arrow-down { display: none; }
            .arrow-right { display: block; font-size: 2rem; color: #cbd5e1; align-self: center; }
        }
    </style>
    <!-- 
    Source Material Analysis:
    - Subject: Sports Data Platform Architecture (Microservices).
    - Key Components: Docker Containers, Data Ingestion (DFS, Odds, Weather), Simulation Engine, Optimizer, Database, API, Frontend.
    - Narrative: How raw data becomes a winning lineup through automated stages.
    
    Chart Selection Justification (NO SVG):
    1. System Composition -> Goal: Inform/Compare -> Donut Chart (Chart.js) -> Shows the ratio of ingestion vs compute services.
    2. Processing Speed -> Goal: Compare -> Bar Chart (Chart.js) -> Contrasts manual workflow vs automated pipeline.
    3. Data Dimensions -> Goal: Relationships -> Radar Chart (Chart.js) -> Shows the multi-faceted nature of sports data inputs.
    4. Architecture Flow -> Goal: Organize/Process -> HTML/CSS Flex Layout -> Visualizes the linear pipeline from Left to Right/Top to Bottom.
    
    Palette: "Cyber-Sport Energy"
    - Primary: #0ea5e9 (Sky Blue - "Brilliant Blues")
    - Secondary: #22c55e (Neon Green - "Energetic")
    - Dark: #0f172a (Slate - Backgrounds)
    - Accent: #f59e0b (Amber - Alerts/Highlights)
    -->
</head>
<body class="text-slate-800">

    <!-- HERO SECTION -->
    <header class="bg-slate-900 text-white py-16 px-4 shadow-xl">
        <div class="max-w-6xl mx-auto text-center">
            <h1 class="text-4xl md:text-6xl font-black mb-4 tracking-tight">
                <span class="text-sky-400">MODULAR</span> SPORTS ANALYTICS
            </h1>
            <p class="text-xl md:text-2xl text-slate-300 max-w-3xl mx-auto">
                Architecture of a Containerized Data Platform for DFS & Betting
            </p>
            <div class="mt-8 flex justify-center gap-4 flex-wrap">
                <div class="bg-slate-800 px-6 py-2 rounded-full border border-sky-500/30">
                    <span class="text-sky-400 font-bold">7+</span> Containers
                </div>
                <div class="bg-slate-800 px-6 py-2 rounded-full border border-green-500/30">
                    <span class="text-green-400 font-bold">100%</span> Python
                </div>
                <div class="bg-slate-800 px-6 py-2 rounded-full border border-amber-500/30">
                    <span class="text-amber-400 font-bold">Zero</span> Dependency Conflicts
                </div>
            </div>
        </div>
    </header>

    <main class="max-w-7xl mx-auto px-4 py-12 space-y-16">

        <!-- SECTION 1: THE PROBLEM & SOLUTION -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-12 items-center">
            <div class="space-y-6">
                <h2 class="text-3xl font-bold text-slate-900 border-l-8 border-sky-500 pl-4">
                    The Monolith Trap vs. Microservices
                </h2>
                <p class="text-lg text-slate-600 leading-relaxed">
                    Building a sports model usually starts with a mess of scripts. 
                    The <strong>Microservices Architecture</strong> solves "Dependency Hell" by isolating every function. 
                    Your DFS provider runs separately from your Odds scraper, ensuring that a crash in one doesn't take down the entire ship.
                </p>
                <div class="bg-white p-6 rounded-lg shadow-md border-t-4 border-amber-500">
                    <h3 class="font-bold text-lg mb-2">Core Advantage: Isolation</h3>
                    <p class="text-sm text-slate-500">
                        When the "Live Odds" API changes, only that single container breaks. The Simulator and Optimizer keep running on existing data.
                    </p>
                </div>
            </div>
            <!-- CHART: Service Composition -->
            <div class="bg-white rounded-xl shadow-lg p-6">
                <h3 class="text-xl font-bold mb-4 text-center">System Container Composition</h3>
                <div class="chart-container">
                    <canvas id="compositionChart"></canvas>
                </div>
                <p class="text-center text-sm text-slate-500 mt-4">
                    Breakdown of container types in the architecture.
                </p>
            </div>
        </section>

        <!-- SECTION 2: THE DATA FACTORY PIPELINE -->
        <section class="bg-slate-100 rounded-2xl p-8 md:p-12 shadow-inner">
            <div class="max-w-4xl mx-auto text-center mb-12">
                <h2 class="text-3xl font-bold text-slate-900 mb-4">The "Data Factory" Pipeline</h2>
                <p class="text-lg text-slate-600">
                    Data isn't just stored; it flows through distinct stages of refinement. 
                    From raw ingestion to complex simulation, and finally to optimization.
                </p>
            </div>

            <!-- HTML/CSS Flowchart (No SVG/Mermaid) -->
            <div class="grid grid-cols-1 md:grid-cols-7 gap-4 items-stretch justify-items-center">
                
                <!-- Step 1: Ingest -->
                <div class="md:col-span-2 flex flex-col items-center w-full">
                    <div class="flow-step bg-white border-b-4 border-sky-500 p-6 rounded-lg shadow-md w-full h-full flex flex-col justify-between">
                        <div>
                            <div class="text-sky-600 font-bold text-sm uppercase tracking-wide mb-2">Tier 1</div>
                            <h3 class="text-xl font-bold text-slate-800 mb-2">Ingestion Layer</h3>
                            <p class="text-sm text-slate-600">
                                Scrapers & API fetchers run on independent schedules.
                            </p>
                        </div>
                        <div class="mt-4 flex flex-wrap gap-2">
                            <span class="bg-sky-100 text-sky-800 text-xs px-2 py-1 rounded">DFS Pools</span>
                            <span class="bg-sky-100 text-sky-800 text-xs px-2 py-1 rounded">Odds</span>
                            <span class="bg-sky-100 text-sky-800 text-xs px-2 py-1 rounded">Weather</span>
                        </div>
                    </div>
                </div>

                <!-- Arrow -->
                <div class="hidden md:flex items-center justify-center text-slate-300 text-3xl">‚ûî</div>
                <div class="md:hidden arrow-down">‚¨á</div>

                <!-- Step 2: Process -->
                <div class="md:col-span-2 flex flex-col items-center w-full">
                    <div class="flow-step bg-white border-b-4 border-indigo-500 p-6 rounded-lg shadow-md w-full h-full flex flex-col justify-between">
                        <div>
                            <div class="text-indigo-600 font-bold text-sm uppercase tracking-wide mb-2">Tier 2</div>
                            <h3 class="text-xl font-bold text-slate-800 mb-2">The Engine Room</h3>
                            <p class="text-sm text-slate-600">
                                Heavy compute logic. Reads raw data, writes projections.
                            </p>
                        </div>
                        <div class="mt-4 flex flex-wrap gap-2">
                            <span class="bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded">Sim Engine</span>
                            <span class="bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded">Optimizer</span>
                        </div>
                    </div>
                </div>

                <!-- Arrow -->
                <div class="hidden md:flex items-center justify-center text-slate-300 text-3xl">‚ûî</div>
                <div class="md:hidden arrow-down">‚¨á</div>

                <!-- Step 3: Deliver -->
                <div class="md:col-span-2 flex flex-col items-center w-full">
                    <div class="flow-step bg-white border-b-4 border-green-500 p-6 rounded-lg shadow-md w-full h-full flex flex-col justify-between">
                        <div>
                            <div class="text-green-600 font-bold text-sm uppercase tracking-wide mb-2">Tier 3</div>
                            <h3 class="text-xl font-bold text-slate-800 mb-2">Interface & API</h3>
                            <p class="text-sm text-slate-600">
                                The user layer. Validates inputs and visualizes results.
                            </p>
                        </div>
                        <div class="mt-4 flex flex-wrap gap-2">
                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded">FastAPI</span>
                            <span class="bg-green-100 text-green-800 text-xs px-2 py-1 rounded">Streamlit/React</span>
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- SECTION 3: DATA COMPLEXITY -->
        <section class="grid grid-cols-1 md:grid-cols-2 gap-12">
            <div class="bg-white rounded-xl shadow-lg p-6">
                <h3 class="text-xl font-bold mb-4 text-center">Multi-Dimensional Data Integration</h3>
                <div class="chart-container">
                    <canvas id="radarChart"></canvas>
                </div>
                <p class="text-center text-sm text-slate-500 mt-4">
                    The platform normalizes disparate data sources into a single schema.
                </p>
            </div>
            <div class="flex flex-col justify-center space-y-6">
                <h2 class="text-3xl font-bold text-slate-900 border-l-8 border-indigo-500 pl-4">
                    Why Separate Containers?
                </h2>
                <p class="text-lg text-slate-600">
                    A generic "Sim Script" usually fails because it can't handle the complexity of modern sports data. 
                    By dedicating specific microservices to specific data types, we ensure high fidelity.
                </p>
                <ul class="space-y-4">
                    <li class="flex items-start">
                        <span class="bg-sky-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 mt-1 text-sm font-bold">1</span>
                        <p class="text-slate-600"><strong>Weather:</strong> Runs every 15 mins. Independent of Sim Engine.</p>
                    </li>
                    <li class="flex items-start">
                        <span class="bg-sky-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 mt-1 text-sm font-bold">2</span>
                        <p class="text-slate-600"><strong>Injuries:</strong> Scrapes Twitter/News. Updates triggers Sims.</p>
                    </li>
                    <li class="flex items-start">
                        <span class="bg-sky-500 text-white rounded-full w-6 h-6 flex items-center justify-center mr-3 mt-1 text-sm font-bold">3</span>
                        <p class="text-slate-600"><strong>Odds:</strong> Real-time line movement capture.</p>
                    </li>
                </ul>
            </div>
        </section>

        <!-- SECTION 4: SPEED & EFFICIENCY -->
        <section class="bg-slate-900 text-white rounded-3xl p-8 md:p-16 relative overflow-hidden">
            <div class="absolute top-0 right-0 w-64 h-64 bg-sky-500 rounded-full mix-blend-multiply filter blur-3xl opacity-20 -mr-16 -mt-16"></div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8 relative z-10">
                <div class="md:col-span-1 space-y-6">
                    <h2 class="text-3xl font-bold text-white">
                        Efficiency Gains
                    </h2>
                    <p class="text-slate-300">
                        The ultimate goal is to reduce the "Time to Lineup." 
                        Automating the ingestion and simulation steps frees up the user to focus on strategy rather than data entry.
                    </p>
                    <div class="bg-slate-800 p-6 rounded-lg border border-slate-700">
                        <div class="text-4xl font-black text-green-400 mb-1">90%</div>
                        <div class="text-sm text-slate-400 uppercase tracking-wider">Reduction in Prep Time</div>
                    </div>
                </div>
                <div class="md:col-span-2">
                    <div class="chart-container">
                        <canvas id="efficiencyChart"></canvas>
                    </div>
                </div>
            </div>
        </section>

        <!-- SECTION 5: TECH STACK -->
        <section class="text-center">
            <h2 class="text-3xl font-bold text-slate-900 mb-12">Powered By</h2>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-6">
                <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition border-b-4 border-blue-600">
                    <div class="text-2xl mb-2">üêç</div>
                    <h3 class="font-bold">Python</h3>
                    <p class="text-xs text-slate-500">Core Logic</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition border-b-4 border-blue-400">
                    <div class="text-2xl mb-2">üê≥</div>
                    <h3 class="font-bold">Docker</h3>
                    <p class="text-xs text-slate-500">Orchestration</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition border-b-4 border-indigo-600">
                    <div class="text-2xl mb-2">üêò</div>
                    <h3 class="font-bold">Postgres</h3>
                    <p class="text-xs text-slate-500">Data State</p>
                </div>
                <div class="bg-white p-6 rounded-lg shadow hover:shadow-lg transition border-b-4 border-red-500">
                    <div class="text-2xl mb-2">üìä</div>
                    <h3 class="font-bold">Streamlit</h3>
                    <p class="text-xs text-slate-500">UI / Dashboard</p>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-900 text-slate-400 py-12 text-center border-t border-slate-800">
        <p class="mb-4">&copy; 2024 Sports Analytics Platform Architecture</p>
        <p class="text-sm">Generated for Modular Data Systems</p>
    </footer>

    <!-- SCRIPTS FOR CHARTS -->
    <script>
        // --- UTILITY: Wrap Labels ---
        function wrapLabels(label) {
            if (label.length > 16) {
                const words = label.split(' ');
                const lines = [];
                let currentLine = words[0];

                for (let i = 1; i < words.length; i++) {
                    if (currentLine.length + 1 + words[i].length <= 16) {
                        currentLine += ' ' + words[i];
                    } else {
                        lines.push(currentLine);
                        currentLine = words[i];
                    }
                }
                lines.push(currentLine);
                return lines;
            }
            return label;
        }

        // --- COMMON CONFIG ---
        Chart.defaults.color = '#64748b';
        Chart.defaults.font.family = "'Roboto', sans-serif";
        
        const tooltipPlugin = {
            tooltip: {
                callbacks: {
                    title: function(tooltipItems) {
                        const item = tooltipItems[0];
                        let label = item.chart.data.labels[item.dataIndex];
                        if (Array.isArray(label)) {
                            return label.join(' ');
                        } else {
                            return label;
                        }
                    }
                },
                backgroundColor: 'rgba(15, 23, 42, 0.9)',
                padding: 12,
                cornerRadius: 8,
            }
        };

        // --- CHART 1: System Composition (Donut) ---
        const ctxComposition = document.getElementById('compositionChart').getContext('2d');
        new Chart(ctxComposition, {
            type: 'doughnut',
            data: {
                labels: ['Ingestion (Scrapers)', 'Processing (Sims/Opto)', 'Interface (API/UI)', 'Database'],
                datasets: [{
                    data: [4, 2, 2, 1], // Represents number of containers
                    backgroundColor: [
                        '#0ea5e9', // Sky Blue
                        '#6366f1', // Indigo
                        '#22c55e', // Green
                        '#f59e0b'  // Amber
                    ],
                    borderWidth: 0,
                    hoverOffset: 10
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    ...tooltipPlugin,
                    legend: { position: 'bottom' }
                }
            }
        });

        // --- CHART 2: Efficiency (Bar) ---
        const ctxEfficiency = document.getElementById('efficiencyChart').getContext('2d');
        const effLabels = ['Manual Data Entry', 'Monolithic Script', 'Microservice Pipeline'];
        const wrappedEffLabels = effLabels.map(wrapLabels);

        new Chart(ctxEfficiency, {
            type: 'bar',
            data: {
                labels: wrappedEffLabels,
                datasets: [{
                    label: 'Minutes to Generate Lineup',
                    data: [120, 45, 5],
                    backgroundColor: [
                        'rgba(255, 255, 255, 0.2)', 
                        'rgba(14, 165, 233, 0.5)', 
                        '#22c55e' // Bright Green for the winner
                    ],
                    borderColor: [
                        'rgba(255, 255, 255, 0.5)',
                        '#0ea5e9',
                        '#22c55e'
                    ],
                    borderWidth: 2,
                    borderRadius: 6
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        grid: { color: 'rgba(255, 255, 255, 0.1)' },
                        ticks: { color: '#cbd5e1' }
                    },
                    x: {
                        grid: { display: false },
                        ticks: { color: '#cbd5e1' }
                    }
                },
                plugins: {
                    ...tooltipPlugin,
                    legend: { display: false }
                }
            }
        });

        // --- CHART 3: Data Complexity (Radar) ---
        const ctxRadar = document.getElementById('radarChart').getContext('2d');
        new Chart(ctxRadar, {
            type: 'radar',
            data: {
                labels: ['Update Frequency', 'Data Volume', 'Impact on Projections', 'API Latency', 'Processing Cost'],
                datasets: [{
                    label: 'Live Odds Provider',
                    data: [90, 80, 60, 85, 40],
                    fill: true,
                    backgroundColor: 'rgba(14, 165, 233, 0.2)',
                    borderColor: '#0ea5e9',
                    pointBackgroundColor: '#0ea5e9'
                },
                {
                    label: 'DFS Pools',
                    data: [20, 40, 95, 20, 20],
                    fill: true,
                    backgroundColor: 'rgba(245, 158, 11, 0.2)',
                    borderColor: '#f59e0b',
                    pointBackgroundColor: '#f59e0b'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    r: {
                        angleLines: { color: '#e2e8f0' },
                        grid: { color: '#e2e8f0' },
                        pointLabels: {
                            font: { size: 12, weight: 'bold' },
                            color: '#475569'
                        }
                    }
                },
                plugins: {
                    ...tooltipPlugin,
                    legend: { position: 'top' }
                }
            }
        });
    </script>
</body>
</html>
